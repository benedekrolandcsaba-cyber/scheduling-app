<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Professional CSP Scheduling Engine</title>
    <style>
        body { 
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", sans-serif; 
            background-color: #f0f2f5; 
            color: #333; 
            margin: 0; 
            padding: 1rem; 
        }
        .container { 
            max-width: 95%; 
            margin: auto; 
            background: #fff; 
            padding: 2rem; 
            border-radius: 12px; 
            box-shadow: 0 6px 20px rgba(0,0,0,0.08); 
        }
        h1, h2 { 
            color: #005a9c; 
            text-align: center; 
            border-bottom: 1px solid #dee2e6; 
            padding-bottom: 0.5rem; 
            margin-bottom: 1.5rem; 
        }
        .main-grid { 
            display: grid; 
            grid-template-columns: 450px 1fr; 
            gap: 2rem; 
        }
        .controls-panel, .schedule-panel { 
            padding: 1rem; 
        }
        .control-section { 
            background: #f8f9fa; 
            padding: 1.5rem; 
            border-radius: 8px; 
            margin-bottom: 1.5rem; 
            border: 1px solid #e9ecef; 
        }
        label { 
            font-weight: 600; 
            margin-bottom: 0.5rem; 
            display: block; 
        }
        input, select, button { 
            padding: 0.75rem; 
            border: 1px solid #ccc; 
            border-radius: 6px; 
            font-size: 1rem; 
            width: 100%; 
            box-sizing: border-box; 
        }
        .main-button { 
            background-color: #007bff; 
            color: #fff; 
            font-weight: 600; 
            cursor: pointer; 
            transition: background-color 0.2s; 
            border: none; 
            margin-top: 1rem; 
        }
        .secondary-button { 
            background-color: #6c757d; 
        }
        .danger-button { 
            background-color: #dc3545; 
        }
        .advanced-button {
            background-color: #28a745;
        }
        #results { 
            text-align: center; 
            margin: 1.5rem 0; 
            font-size: 1.2rem; 
            font-weight: bold; 
        }
        .feasible { 
            color: #155724; 
        } 
        .not-feasible { 
            color: #721c24; 
        } 
        .partial-success { 
            color: #856404; 
        }

        /* Group Cards */
        .group-card {
            background: #fff;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 1rem;
        }
        .group-card h3 {
            margin: 0 0 1rem 0;
            color: #005a9c;
            border-bottom: 1px solid #dee2e6;
            padding-bottom: 0.5rem;
        }
        .param-grid {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 0.5rem 1rem;
            align-items: center;
        }

        /* Diagnostics & Unscheduled Styles */
        .diagnostics-panel { 
            background: #fffbe6; 
            border: 1px solid #ffeeba; 
            border-radius: 8px; 
            padding: 1rem; 
            margin-top: 1rem; 
        }
        .diagnostics-header { 
            font-weight: bold; 
            margin-bottom: 0.5rem; 
            color: #856404; 
        }
        .constraint-status { 
            display: flex; 
            justify-content: space-between; 
            align-items: center; 
            padding: 0.5rem; 
            margin: 0.25rem 0; 
            border-radius: 4px; 
            border-left: 4px solid; 
        }
        .constraint-status.invalid { 
            background: #f8d7da; 
            color: #721c24; 
            border-left-color: #dc3545; 
            border: 2px solid #dc3545; 
        }
        .constraint-status.warning { 
            background: #fff3cd; 
            color: #856404; 
            border-left-color: #ffc107; 
        }
        .unscheduled-list { 
            margin-top: 1rem; 
            padding-top: 1rem; 
            border-top: 1px solid #ffeeba; 
        }
        .unscheduled-item { 
            background-color: #f8d7da; 
            color: #721c24; 
            padding: 0.5rem; 
            border-radius: 4px; 
            margin-bottom: 0.25rem; 
        }
        .slot-count { 
            font-size: 0.9rem; 
            color: #6c757d; 
        }
        .conflict-details { 
            margin-top: 0.5rem; 
            padding: 0.5rem 0.5rem 0.5rem 1rem; 
            background: #e9ecef; 
            border-radius: 4px; 
            font-size: 0.9rem; 
            border-left: 2px solid #ccc; 
        }
        .diagnostic-task { 
            cursor: pointer; 
            text-decoration: underline; 
            color: #0056b3; 
        }
        .spinner { 
            border: 4px solid #f3f3f3; 
            border-top: 4px solid #007bff; 
            border-radius: 50%; 
            width: 30px; 
            height: 30px; 
            animation: spin 1s linear infinite; 
            margin: 1rem auto; 
            display: none; 
        }
        @keyframes spin { 
            0% { transform: rotate(0deg); } 
            100% { transform: rotate(360deg); } 
        }
        .progress-bar { 
            width: 100%; 
            height: 6px; 
            background-color: #e9ecef; 
            border-radius: 3px; 
            overflow: hidden; 
            margin: 1rem 0; 
            display: none; 
        }
        .progress-fill { 
            height: 100%; 
            background: linear-gradient(90deg, #007bff, #0056b3); 
            width: 0%; 
            transition: width 0.3s ease; 
        }
        .solver-stats { 
            font-size: 0.85rem; 
            color: #6c757d; 
            margin-top: 0.5rem; 
        }
        .solver-stats strong { 
            color: #495057; 
        }

        /* Calendar & Appointment Styles */
        .calendar { 
            margin-top: 1rem; 
        }
        .calendar-header { 
            display: flex; 
            justify-content: space-between; 
            align-items: center; 
            margin-bottom: 1rem; 
        }
        .calendar-grid { 
            display: grid; 
            grid-template-columns: repeat(7, 1fr); 
            gap: 5px; 
        }
        .calendar-day-name { 
            font-weight: bold; 
            text-align: center; 
            padding: 0.5rem; 
            background-color: #e9ecef; 
            border-radius: 4px; 
        }
        .calendar-day { 
            border: 1px solid #e0e0e0; 
            min-height: 120px; 
            padding: 5px; 
            background-color: #fff; 
            position: relative; 
            transition: background-color 0.3s; 
        }
        .day-number { 
            position: absolute; 
            top: 5px; 
            right: 5px; 
            font-size: 0.8rem; 
            color: #6c757d; 
        }
        .other-month { 
            background-color: #f8f9fa; 
            color: #ccc; 
        }
        .in-range { 
            background-color: #e6f7ff; 
        }
        .appointment { 
            padding: 3px 5px; 
            margin-bottom: 3px; 
            border-radius: 3px; 
            font-size: 0.75rem; 
            color: #fff; 
            white-space: nowrap; 
            overflow: hidden; 
            text-overflow: ellipsis; 
        }
        .appointment.locked { 
            opacity: 0.6; 
            border: 2px solid #ffc107; 
            position: relative; 
        }
        .appointment.locked::after { 
            content: 'üîí'; 
            position: absolute; 
            right: 2px; 
            top: 0; 
            font-size: 0.6rem; 
        }
        .teacher { background-color: #28a745; } 
        .india { background-color: #6f42c1; } 
        .y2023 { background-color: #17a2b8; } 
        .y2022 { background-color: #fd7e14; } 
        .y2021 { background-color: #007bff; } 
        .staff { background-color: #6c757d; }
        .calendar-day.past-date { 
            background-color: #f8f9fa; 
            opacity: 0.7; 
        }
        .calendar-day.today { 
            background-color: #fff3cd; 
            border: 2px solid #ffc107; 
        }

        /* Modal Styles */
        .modal { 
            display: none; 
            position: fixed; 
            z-index: 1000; 
            left: 0; 
            top: 0; 
            width: 100%; 
            height: 100%; 
            overflow: auto; 
            background-color: rgba(0,0,0,0.5); 
            backdrop-filter: blur(4px); 
        }
        .modal-content { 
            background-color: #fefefe; 
            margin: 5% auto; 
            padding: 20px; 
            border: 1px solid #888; 
            width: 90%; 
            max-width: 900px; 
            border-radius: 8px; 
        }
        .modal-header { 
            display: flex; 
            justify-content: space-between; 
            align-items: center; 
            border-bottom: 1px solid #dee2e6; 
            padding-bottom: 1rem; 
            margin-bottom: 1rem; 
        }
        .close-btn { 
            color: #aaa; 
            font-size: 28px; 
            font-weight: bold; 
            cursor: pointer; 
        }

        /* Constraint & Availability Styles */
        .constraint-builder .param-grid, .edit-availability-form { 
            display: grid; 
            grid-template-columns: repeat(2, 1fr); 
            gap: 1rem; 
        }
        #active-constraints-list { 
            list-style-type: none; 
            padding: 0; 
        }
        .constraint-tag { 
            display: flex; 
            justify-content: space-between; 
            align-items: center; 
            background: #e9ecef; 
            padding: 5px 10px; 
            border-radius: 4px; 
            margin-bottom: 5px; 
        }
        #person-list-container { 
            max-height: 70vh; 
            overflow-y: auto; 
        }
        .person-item { 
            display: flex; 
            justify-content: space-between; 
            align-items: center; 
            padding: 8px; 
            border-bottom: 1px solid #eee; 
        }
        .person-item.has-issue { 
            border-left: 4px solid #dc3545; 
            background-color: #f8d7da; 
        }
        #current-ranges-list { 
            list-style-type: none; 
            padding: 0; 
            margin-top: 1rem; 
        }
        .range-item { 
            display: flex; 
            justify-content: space-between; 
            background: #e9ecef; 
            padding: 5px 10px; 
            border-radius: 4px; 
            margin-bottom: 5px; 
        }

        /* Styles for Scalable Person List */
        .person-group-accordion details { 
            border: 1px solid #dee2e6; 
            border-radius: 6px; 
            margin-bottom: 0.5rem; 
        }
        .person-group-accordion summary { 
            cursor: pointer; 
            padding: 0.75rem; 
            background-color: #f8f9fa; 
            font-weight: bold; 
            display: flex; 
            justify-content: space-between; 
            align-items: center; 
        }
        .person-group-accordion summary:hover { 
            background-color: #e9ecef; 
        }
        .person-group-content { 
            padding: 0.5rem; 
            border-top: 1px solid #dee2e6; 
        }
        .issue-badge { 
            background-color: #dc3545; 
            color: white; 
            border-radius: 12px; 
            padding: 2px 8px; 
            font-size: 0.8rem; 
            font-weight: normal; 
        }

        /* Quick Slots Styles */
        #quick-slots-container { 
            max-height: 400px; 
            overflow: auto; 
            border: 1px solid #ccc; 
            padding: 5px; 
            border-radius: 4px; 
        }
        #quick-slots-grid { 
            display: grid; 
            gap: 4px; 
        }
        .time-slot { 
            padding: 6px 4px; 
            text-align: center; 
            border: 1px solid #dee2e6; 
            border-radius: 4px; 
            cursor: pointer; 
            font-size: 0.75rem; 
            background: #fff; 
            transition: all 0.2s; 
            min-width: 40px; 
            user-select: none; 
        }
        .time-slot:hover { 
            border-color: #007bff; 
            background: #f8f9fa; 
        }
        .time-slot.selected { 
            background: #007bff; 
            color: white; 
            border-color: #0056b3; 
        }
        .time-slot.day-header, .time-slot.time-header { 
            background: #6c757d; 
            color: white; 
            font-weight: bold; 
            cursor: default; 
            position: sticky; 
        }
        .time-slot.time-header { 
            top: 0; 
            z-index: 10; 
        }
        .time-slot.day-header { 
            left: 0; 
            z-index: 20; 
        }
        .time-slot.problem-week { 
            background-color: #f8d7da !important; 
            color: #721c24 !important; 
            border: 2px solid #dc3545; 
        }

        /* Weekly Schedule Control Styles */
        .weekly-schedule-group { 
            background: #f8f9fa; 
            border: 1px solid #dee2e6; 
            border-radius: 6px; 
            padding: 1rem; 
            margin-bottom: 1rem; 
        }
        .weekly-schedule-group h4 { 
            margin: 0 0 0.75rem 0; 
            color: #005a9c; 
        }
        .week-checkboxes { 
            display: grid; 
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); 
            gap: 0.5rem; 
        }
        .week-checkbox-item { 
            display: flex; 
            align-items: center; 
            gap: 0.5rem; 
            padding: 0.5rem; 
            background: #fff; 
            border: 1px solid #dee2e6; 
            border-radius: 4px; 
        }
        .week-checkbox-item input[type="checkbox"] { 
            margin: 0; 
        }
        .week-checkbox-item label { 
            margin: 0; 
            font-size: 0.9rem; 
            cursor: pointer; 
        }
        .week-checkbox-item.week-disabled { 
            background: #f8f9fa; 
            color: #6c757d; 
        }
        .week-checkbox-item.week-disabled input { 
            opacity: 0.5; 
        }
        .week-status { 
            font-size: 0.8rem; 
            color: #6c757d; 
            margin-top: 0.5rem; 
        }
        .week-status.has-appointments { 
            color: #28a745; 
            font-weight: bold; 
        }

        /* Algorithm Selection */
        .algorithm-selection {
            background: #e7f3ff;
            border: 1px solid #007bff;
            border-radius: 6px;
            padding: 1rem;
            margin-bottom: 1rem;
        }
        .algorithm-selection h4 {
            margin: 0 0 0.75rem 0;
            color: #005a9c;
        }
        .algorithm-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 0.5rem;
        }
        .algorithm-option {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem;
            background: #fff;
            border: 1px solid #dee2e6;
            border-radius: 4px;
            cursor: pointer;
        }
        .algorithm-option:hover {
            background: #f8f9fa;
        }
        .algorithm-option.selected {
            background: #007bff;
            color: white;
            border-color: #0056b3;
        }
        .algorithm-option input[type="radio"] {
            margin: 0;
        }
        .algorithm-option label {
            margin: 0;
            font-size: 0.9rem;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Professional CSP Scheduling Engine</h1>
        <p style="text-align: center; color: #6c757d; margin: -1rem 0 1.5rem 0;">
            Advanced Scheduling with Mid-Month Rescheduling & Locked Past Appointments
        </p>

        <div class="main-grid">
            <div class="controls-panel">
                <!-- 1. Global Settings -->
                <div class="control-section">
                    <h2>1. Global Settings</h2>
                    <label for="schedule-start-date">Planning Period Start Date</label>
                    <input type="date" id="schedule-start-date">
                    
                    <label for="current-date" style="margin-top: 0.75rem;">Current Date (for rescheduling)</label>
                    <input type="date" id="current-date" title="Appointments before this date are locked and won't be rescheduled">
                    
                    <label for="rooms-select" style="margin-top: 0.75rem;">Rooms</label>
                    <select id="rooms-select">
                        <option value="auto" selected>Auto (try 1 then 2)</option>
                        <option value="1">1 room</option>
                        <option value="2">2 rooms</option>
                    </select>
                    
                    <label for="horizon-weeks" style="margin-top: 0.75rem;">Planning Horizon (weeks)</label>
                    <input type="number" id="horizon-weeks" min="1" step="1" value="5">
                    
                    <div style="display:flex; align-items:center; gap:0.5rem; margin-top:0.5rem;">
                        <input type="checkbox" id="auto-extend">
                        <label for="auto-extend" style="margin:0;">Auto-extend to satisfy targets</label>
                    </div>
                    
                    <label for="start-alignment" style="margin-top: 0.75rem;">Planning Start Alignment</label>
                    <select id="start-alignment">
                        <option value="as_is" selected>Use date as is</option>
                        <option value="week_monday">Start Monday of that week</option>
                        <option value="next_monday">Start next Monday</option>
                        <option value="previous_monday">Start previous Monday</option>
                        <option value="first_full_week">First full week of month</option>
                    </select>
                    
                    <div style="display:flex; align-items:center; gap:0.5rem; margin-top:0.5rem;">
                        <input type="checkbox" id="allow-past">
                        <label for="allow-past" style="margin:0;">Allow scheduling into past (before today)</label>
                    </div>
                    
                    <div style="display:flex; align-items:center; gap:0.5rem; margin-top:0.5rem;">
                        <input type="checkbox" id="skip-partial-week">
                        <label for="skip-partial-week" style="margin:0;">Skip partial first week if working days less than</label>
                        <input type="number" id="min-working-days" min="1" max="5" step="1" value="3" style="width:80px;">
                    </div>
                    
                    <button id="reset-btn" class="main-button danger-button">Reset All Saved Settings</button>
                    <button id="demo-data-btn" class="main-button secondary-button" style="margin-top: 0.5rem;">Load Demo Data</button>
                </div>

                <!-- 2. Group Parameters -->
                <div class="control-section group-parameters">
                    <h2>2. Group Parameters</h2>
                    <div id="group-param-container"></div>
                </div>

                <!-- 3. Algorithm Selection -->
                <div class="control-section">
                    <h2>3. Algorithm Selection</h2>
                    <div class="algorithm-selection">
                        <h4>üß† Choose Scheduling Algorithm</h4>
                        <div class="algorithm-options">
                            <div class="algorithm-option" onclick="selectAlgorithm('greedy')">
                                <input type="radio" name="algorithm" value="greedy" id="algo-greedy" checked>
                                <label for="algo-greedy">‚ö° Quick (Greedy)</label>
                            </div>
                            <div class="algorithm-option" onclick="selectAlgorithm('csp_backtrack')">
                                <input type="radio" name="algorithm" value="csp_backtrack" id="algo-csp">
                                <label for="algo-csp">üéØ CSP Backtracking</label>
                            </div>
                            <div class="algorithm-option" onclick="selectAlgorithm('min_conflict')">
                                <input type="radio" name="algorithm" value="min_conflict" id="algo-min">
                                <label for="algo-min">üîÑ Min-Conflict</label>
                            </div>
                            <div class="algorithm-option" onclick="selectAlgorithm('simulated_annealing')">
                                <input type="radio" name="algorithm" value="simulated_annealing" id="algo-sa">
                                <label for="algo-sa">üå°Ô∏è Simulated Annealing</label>
                            </div>
                        </div>
                        <div style="margin-top: 0.75rem; padding: 0.75rem; background: #fff; border-radius: 4px; font-size: 0.85rem;">
                            <strong id="algorithm-description">‚ö° Quick: Fast greedy algorithm, good for simple scenarios</strong>
                        </div>
                    </div>
                </div>

                <!-- 4. Weekly Schedule Control -->
                <div class="control-section weekly-schedule">
                    <h2>4. Weekly Schedule Control</h2>
                    <div style="background: #e7f3ff; border-left: 3px solid #007bff; border-radius: 4px; padding: 0.75rem; margin-bottom: 1rem; font-size: 0.85rem;">
                        <strong>üìÖ Weekly Planning:</strong> Select which weeks to include for each group. This allows mid-month modifications without regenerating the entire schedule.
                    </div>
                    <div id="weekly-schedule-container"></div>
                    <button id="regenerate-week-btn" class="main-button secondary-button" style="margin-top: 1rem; width: 100%;">Regenerate Selected Weeks</button>
                </div>

                <!-- 5. Group Constraints -->
                <div class="control-section constraint-builder">
                    <h2>5. Group Constraints</h2>
                    <div class="param-grid">
                        <select id="constraint-group"></select>
                        <select id="constraint-week">
                            <option value="all">All Weeks</option>
                            <option value="1">Week 1</option>
                            <option value="2">Week 2</option>
                            <option value="3">Week 3</option>
                            <option value="4">Week 4</option>
                            <option value="5">Week 5</option>
                        </select>
                    </div>
                    <div id="custom-constraint-controls" style="margin-top: 1rem; background: #e9ecef; padding: 1rem; border-radius: 4px; display: none;">
                        <div class="param-grid">
                            <select id="constraint-type">
                                <option value="not_day">Cannot work on (Hard)</option>
                                <option value="only_day">Can ONLY work on (Hard)</option>
                            </select>
                            <select id="constraint-day">
                                <option value="1">Monday</option>
                                <option value="2">Tuesday</option>
                                <option value="3">Wednesday</option>
                                <option value="4">Thursday</option>
                                <option value="5">Friday</option>
                            </select>
                        </div>
                        <button id="add-custom-constraint-btn" class="main-button advanced-button" style="margin-top: 1rem;">Add This Constraint</button>
                    </div>
                    <button id="toggle-custom-constraint-btn" style="margin-top:1rem;">Add Custom Constraint</button>
                    <div id="active-constraints-list" style="margin-top: 1rem;"></div>
                </div>

                <!-- 6. Individual Availability -->
                <div class="control-section">
                    <h2>6. Individual Availability</h2>
                    <button id="manage-individual-btn" class="main-button secondary-button">Manage Individual Availability</button>
                </div>

                <!-- 7. Generate Schedule -->
                <div class="control-section">
                    <h2>7. Generate Schedule</h2>
                    <button id="calculate-btn" class="main-button">Generate Plan</button>
                    <button id="clear-schedule-btn" class="secondary-button" style="margin-top: 0.5rem; width: 100%;">Clear Current Schedule</button>
                    
                    <div style="margin-top: 0.75rem; padding: 0.75rem; background: #e7f3ff; border-left: 3px solid #007bff; border-radius: 4px; font-size: 0.85rem;">
                        <strong>üí° Tip:</strong> Modify settings above, then click "Generate Plan" to see changes. Calendar persists automatically!
                    </div>
                    
                    <div id="results">
                        <div class="spinner" id="spinner"></div>
                        <div class="progress-bar" id="progress-bar">
                            <div class="progress-fill" id="progress-fill"></div>
                        </div>
                    </div>
                    
                    <div id="diagnostics-panel" class="diagnostics-panel" style="display: none;">
                        <div class="diagnostics-header">Diagnostics Report</div>
                        <div id="diagnostics-content"></div>
                    </div>
                </div>
            </div>

            <div class="schedule-panel">
                <div class="calendar">
                    <div class="calendar-header">
                        <button id="prev-month">&lt;&lt; Month</button>
                        <h2 id="month-year-display"></h2>
                        <button id="next-month">Month &gt;&gt;</button>
                    </div>
                    
                    <div style="display: flex; gap: 1rem; justify-content: center; margin-bottom: 1rem; flex-wrap: wrap; font-size: 0.85rem;">
                        <div style="display: flex; align-items: center; gap: 0.25rem;">
                            <div style="width: 16px; height: 16px; background: #fff3cd; border: 2px solid #ffc107; border-radius: 3px;"></div>
                            <span>Today</span>
                        </div>
                        <div style="display: flex; align-items: center; gap: 0.25rem;">
                            <div style="width: 16px; height: 16px; background: #f8f9fa; opacity: 0.7; border-radius: 3px;"></div>
                            <span>Past Date</span>
                        </div>
                        <div style="display: flex; align-items: center; gap: 0.25rem;">
                            <div style="width: 16px; height: 16px; background: #28a745; border: 2px solid #ffc107; opacity: 0.6; border-radius: 3px; position: relative;">
                                <span style="position: absolute; right: -2px; top: -2px; font-size: 0.6rem;">üîí</span>
                            </div>
                            <span>Locked Appointment</span>
                        </div>
                    </div>
                    
                    <div class="calendar-grid" id="weekday-header"></div>
                    <div class="calendar-grid" id="calendar-body"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Person List Modal -->
    <div id="person-list-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Manage Individual Availability</h2>
                <span class="close-btn" id="close-person-list">&times;</span>
            </div>
            <input type="text" id="person-filter" placeholder="Filter by name..." style="margin-bottom: 1rem;">
            <div id="person-list-container" class="person-group-accordion"></div>
        </div>
    </div>

    <!-- Availability Editor Modal -->
    <div id="availability-editor-modal" class="modal">
        <div class="modal-content" style="max-width: 900px;">
            <div class="modal-header">
                <h2 id="editor-title"></h2>
                <span class="close-btn" id="close-editor">&times;</span>
            </div>
            <div style="display: grid; grid-template-columns: 2fr 1fr; gap: 2rem;">
                <div>
                    <h3>Quick Select Time Slots (Shift-click to select a range)</h3>
                    <div id="quick-slots-container">
                        <div id="quick-slots-grid"></div>
                    </div>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 0.5rem; margin-top: 1rem;">
                        <button id="clear-all-slots" class="danger-button">Clear All Slots</button>
                        <button id="select-all-weekdays" class="secondary-button">Select 9-5 Weekdays</button>
                    </div>
                </div>
                <div>
                    <h3>Add Custom Range</h3>
                    <div class="edit-availability-form">
                        <div class="input-group">
                            <label>Day</label>
                            <select id="editor-day"></select>
                        </div>
                        <div class="input-group">
                            <label>Start Time</label>
                            <input id="editor-start-time" type="time" step="900" value="09:00">
                        </div>
                        <div class="input-group">
                            <label>End Time</label>
                            <input id="editor-end-time" type="time" step="900" value="12:00">
                        </div>
                        <button id="add-range-btn" class="main-button" style="grid-column: span 2;">Add Custom Range</button>
                    </div>
                    <h3 style="margin-top: 2rem;">Current Availability</h3>
                    <div id="current-ranges-list" style="max-height: 250px; overflow-y: auto;"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Load the professional scheduling engine -->
    <script src="js/professional-scheduler.js"></script>
</body>
</html>